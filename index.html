<html>
  <head>
    <title>MIDMKT</title>

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap-theme.min.css">

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="/weather/css/weather-icons.min.css">

    <style>
      body {
        margin: 0;
        padding: 0;
        background-color: #4CACDF;
        background-image: url("MIDMKT-pattern-bg.png");
        width: 100%;
        font-size: 20px;
      }
      img {
        display: block;
        margin-top: 15%;
        margin-left: auto;
        margin-right: auto;
      }
      .content {
        width: 60%;
        margin-left: auto;
        margin-right: auto;
      }
      h1, p {
        text-align: center;
        font-family: Helvetica, Arial, sans-serif;
        font-size: 100%;
        font-weight: 300;
        color: white;
      }
      h1 {
        font-weight: bold;
        margin-top: 2em;
        margin-bottom: 1em;
      }
      @media screen and (max-width: 768px) {
        .content {
          width: 80%;
        }
        h1, p {
          font-size: 90%;
        }
      }
      p.inquire {
        margin-top: 1.75em; /* bit less than 2em to offset extra visual space created by ascenders, decenders */
      }
      .inquire a {
        border-bottom: 1px dashed rgba(255, 255, 255, 0.6);
        color: white;
        padding-bottom: 0.15em;
        text-decoration: none;

        -webkit-transition: all .33s ease;
        -moz-transition: all .33s ease;
        -ms-transition: all .33s ease;
        -o-transition: all .33s ease;
        transition: all .33s ease;
      }
      .inquire a:hover, .inquire a:focus {
        border-bottom: 1px solid #fff;
        text-decoration: none;
      }

      #weather-text {
        font-style: italic;
      }
      #weather-icon i {
        font-style: normal;
        line-height: 1.0;
        font-size: 0.8em; /* 16px (icon height should match font x-height) */
      }

    </style>

  </head>
  <body>
    <img src="MIDMKT-logo-white.png" alt="" />

    <div class="content">
      <h1>A design and development studio in <span id="weather-text"></span> <span id="weather-icon"></span> San Francisco.</h1>
      <p>We build beautiful things for the web. Our team includes illustrators, UI/UX designers and experienced full stack developers.</p>
      <p class="inquire">Currently accepting clients. <a href="mailto:hello@midmkt.co?subject=Hello MIDMKT!">Inquire within.</a></p>
    </div>

  </body>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script src="js/vendor/simpleWeather/jQuery.simpleWeather.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/2.4.1/lodash.compat.min.js"></script>
  <script>
    // from https://developer.yahoo.com/weather/documentation.html#codes
    // code + description are from yahoo's API; wi (weather-icon) is what we're using to represent the description
    var codes = [
      {code: 0  , description: "tornado", wi: "tornado"},
      {code: 1  , description: "tropical storm", wi: "night-thunderstorm" },
      {code: 2  , description: "hurricane", wi: "hurricane" },
      {code: 3  , description: "severe thunderstorms", wi: "thunderstorm" },
      {code: 4  , description: "thunderstorms", wi: "storm-showers" },
      {code: 5  , description: "mixed rain and snow", wi: "snow" },
      {code: 6  , description: "mixed rain and sleet", wi: "sleet" },
      {code: 7  , description: "mixed snow and sleet", wi: "sleet" },
      {code: 8  , description: "freezing drizzle", wi: "sleet" },
      {code: 9  , description: "drizzle", wi: "sprinkle" },
      {code: 10 , description: "freezing rain", wi: "sleet" },
      {code: 11 , description: "showers", wi: "showers" },
      {code: 12 , description: "showers", wi: "showers" },
      {code: 13 , description: "snow flurries", wi: "snow" },
      {code: 14 , description: "light snow showers", wi: "snow" },
      {code: 15 , description: "blowing snow", wi: "snow-wind" },
      {code: 16 , description: "snow", wi: "snow" },
      {code: 17 , description: "hail", wi: "hail" },
      {code: 18 , description: "sleet", wi: "sleet" },
      {code: 19 , description: "dust", wi: "dust" },
      {code: 20 , description: "foggy", wi: "fog" },
      {code: 21 , description: "haze", wi: "day-haze" },
      {code: 22 , description: "smoky", wi: "smoke" },
      {code: 23 , description: "blustery", wi: "beafort-5" /* not exact: Beafort 5 is 17-21 knots; blustery is 15-25 mph or 13-21 knots */ },
      {code: 24 , description: "windy", wi: "beafort-6" /* not exact:  B6 is 22-27 knots; NOAA defines windy as 20-30mph, or 17-26 knots */},
      {code: 25 , description: "cold", wi: "snowflake-cold" },
      {code: 26 , description: "cloudy", wi: "cloudy" },
      {code: 27 , description: "mostly cloudy (night)", wi: "night-cloudy" },
      {code: 28 , description: "mostly cloudy (day)", wi: "day-cloudy" },
      {code: 29 , description: "partly cloudy (night)", wi: "night-partly-cloudy" },
      {code: 30 , description: "partly cloudy (day)", wi: "day-sunny-overcast" },
      {code: 31 , description: "clear (night)", wi: "night-clear" },
      {code: 32 , description: "sunny", wi: "day-sunny" },
      {code: 33 , description: "fair (night)", wi: "night-clear" },
      {code: 34 , description: "fair (day)", wi: "day-sunny" },
      {code: 35 , description: "mixed rain and hail", wi: "hail" },
      {code: 36 , description: "hot", wi: "hot" },
      {code: 37 , description: "isolated thunderstorms", wi: "storm-showers" },
      {code: 38 , description: "scattered thunderstorms", wi: "storm-showers" },
      {code: 39 , description: "scattered thunderstorms", wi: "storm-showers" },
      {code: 40 , description: "scattered showers", wi: "showers" },
      {code: 41 , description: "heavy snow", wi: "snow" },
      {code: 42 , description: "scattered snow showers", wi: "snow" },
      {code: 43 , description: "heavy snow", wi: "snow" },
      {code: 44 , description: "partly cloudy", wi: "night-cloudy" },
      {code: 45 , description: "thundershowers", wi: "storm-showers" },
      {code: 46 , description: "snow showers", wi: "snow" },
      {code: 47 , description: "isolated thundershowers", wi: "storm-showers" }
    ];

  $(document).ready(function() {
      $.simpleWeather({
        location: 'San Francisco, CA',
        woeid: '',
        unit: 'f',
        success: function(weather) {
          var text = '<span class="currently">'+weather.currently.toLowerCase()+'</span>';
          $("#weather-text").html(text);

          var extra = _.find(codes, {code: parseInt(weather.code)});
          if (extra) {
            var icon = '<i class="wi wi-'+extra.wi+'"></i>';
            $("#weather-icon").html(icon);
          }
        },
        error: function(error) {
          console.log("problem fetching weather: " +error);
        }
      });
    });
  </script>

</html>
